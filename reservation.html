<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Réservation Sénégal & Comores</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
:root {
  --primary: #004466;
  --secondary: rgba(0,102,153,0.8);
  --accent: #ffd700;
  --bg: #f4f4f9;
  --white: #fff;
}

body {
  margin:0;
  font-family: 'Arial', sans-serif;
  color:#222;
  background: url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?fit=crop&w=1500&q=80') no-repeat center center fixed;
  background-size: cover;
}

header {
  background: rgba(0,68,102,0.85);
  color: var(--white);
  padding: 25px 15px;
  text-align: center;
  box-shadow: 0 5px 20px rgba(0,0,0,0.3);
}
header h1 { font-size:36px; margin:0; text-shadow:2px 2px 8px rgba(0,0,0,0.5); }

.nav-links{display:flex;justify-content:center;gap:20px;margin-bottom:10px;}
.nav-links a{text-decoration:none;color:#fff;font-weight:bold;transition: color 0.3s ease;}
.nav-links a:hover{color: #ffd700;}

nav {display:flex;justify-content:center;gap:12px;background: rgba(0,102,153,0.9);padding:10px 0;position: sticky;top:0;z-index:1000;}
nav a {color: var(--white);text-decoration:none;font-weight:bold;padding:10px 18px;border-radius:8px;display:flex;align-items:center;gap:8px;transition: all 0.3s ease;}
nav a:hover {background: var(--accent);color: var(--primary);}

/* Galerie */
.gallery-container {position: relative;margin:20px;background: rgba(255,255,255,0.9);border-radius:12px;padding:10px;overflow: hidden;}
.gallery {display:flex;transition: transform 0.5s ease-in-out;}
.gallery img {height:200px;margin-right:10px;border-radius:12px;cursor:pointer;transition: transform 0.3s;}
.gallery img:hover {transform: scale(1.05);}
.arrow {position: absolute;top: 50%;transform: translateY(-50%);font-size: 32px;color: var(--white);background: rgba(0,0,0,0.4);border-radius: 50%;padding:10px;cursor: pointer;z-index: 100;}
.arrow.left { left:10px; } .arrow.right { right:10px; }

main {max-width:1100px;margin:30px auto;padding:0 15px;background: rgba(255,255,255,0.95);border-radius: 12px;}
h2 { text-align:center; color: var(--primary); margin-bottom:25px; }

form {display:none;flex-direction:column;gap:15px;padding:25px;}
label { font-weight:bold; }
input, select, textarea { padding:10px; font-size:16px; border-radius:6px; border:1px solid #ccc; width:100%; }
button { padding:14px; background: var(--primary); color: var(--white); font-size:18px; border:none; border-radius:8px; cursor:pointer; transition:0.3s; }
button:hover { background: var(--secondary); }

/* Paiement en ligne */
.payments { display:flex; flex-wrap:wrap; gap:10px; }
.payment-label { flex:1; min-width:140px; display:flex; align-items:center; justify-content:center; gap:10px; background: var(--bg); padding:15px; border-radius:12px; border:2px solid transparent; cursor:pointer; transition:0.3s; font-weight:bold; font-size:16px; text-align:center; }
.payment-label i { font-size:28px; color: var(--primary); }
.payment-label.selected { border-color: var(--accent); background: #fff8e0; transform: translateY(-3px); box-shadow:0 4px 12px rgba(0,0,0,0.15); }

.hidden { display:none; }

/* Logement */
.logement-images { display:flex; flex-wrap:wrap; gap:15px; margin-top:15px; }
.logement-images img { width:180px; height:130px; object-fit:cover; border-radius:10px; cursor:pointer; border:3px solid transparent; }
.logement-images img.selected { border-color: var(--accent); box-shadow:0 0 10px rgba(0,0,0,0.4); }

/* Pop-up */
#previewPopup,#finalConfirmPopup { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); justify-content:center; align-items:center; z-index:2000; }
#popupContent,#finalContent { background:#fff; padding:25px; border-radius:12px; max-width:500px; width:90%; text-align:center; }
#popupContent img,#finalContent img { width:100%; height:auto; border-radius:10px; margin-bottom:15px; }
#popupContent button,#finalContent button { margin:10px 5px; width:45%; }
#popupContent h3,#finalContent h3 { margin-bottom:10px; color: var(--primary); }

footer { background: rgba(0,68,102,0.85); color: var(--white); text-align:center; padding:20px; margin-top:30px; border-top:2px solid var(--accent);}
</style>
</head>
<body>

<header>
  <div class="nav-links">
    <a href="index.html">Accueil</a>
    <a href="culture.html">Culture</a>
    <a href="reservation.html">Réservation</a>
    <a href="CONTACT.html">Contact</a>
  </div>
  <h1>Réservation Sénégal & Comores</h1>
</header>

<nav>
  <a href="#reservation" id="showFormBtn"><i class="fas fa-calendar-check"></i> Réservation</a>
</nav>

<!-- Galerie Sénégal -->
<div class="gallery-container">
  <div class="gallery" id="senegalGallery">
    <img src="PHOTO-2025-09-25-08-08-01 (2).jpg">
    <img src="PHOTO-2025-09-25-08-08-03 (1).jpg">
    <img src="PHOTO-2025-09-25-08-08-03 (2).jpg">
    <img src="5de337f7-a041-4102-b585-e99cb49ac231.JPEG">
    <img src="6.jpg">
    <img src="expedia_group-343523-145997945-874578.jpg">
  </div>
  <div class="arrow left" onclick="scrollGallery('senegalGallery',-1)">❮</div>
  <div class="arrow right" onclick="scrollGallery('senegalGallery',1)">❯</div>
</div>

<!-- Galerie Comores -->
<div class="gallery-container">
  <div class="gallery" id="comoresGallery">
    <img src="PHOTO-2025-09-25-08-08-17.jpg">
    <img src="PHOTO-2025-09-25-08-08-19 (1).jpg">
    <img src="PHOTO-2025-09-25-08-08-19 (2).jpg">
    <img src="PHOTO-2025-09-25-08-08-19.jpg">
    <img src="PHOTO-2025-09-25-08-08-20 (3).jpg">
    <img src="PHOTO-2025-09-25-08-08-20.jpg">
  </div>
  <div class="arrow left" onclick="scrollGallery('comoresGallery',-1)">❮</div>
  <div class="arrow right" onclick="scrollGallery('comoresGallery',1)">❯</div>
</div>

<main>
<section id="reservation">
  <h2>Réserver maintenant</h2>
  <form id="reservationForm">
    <label for="nom">Nom complet</label>
    <input type="text" id="nom" name="nom" required>
    <label for="email">Email</label>
    <input type="email" id="email" name="email" required>
    <label for="destination">Destination</label>
    <select id="destination" name="destination" required>
      <option value="">-- Choisir une destination --</option>
      <option value="Sénégal">Sénégal</option>
      <option value="Comores">Comores</option>
    </select>
    <label for="type">Type de réservation</label>
    <select id="type" name="type" required>
      <option value="">-- Choisir --</option>
      <option value="Logement">Logement</option>
      <option value="Voiture">Voiture</option>
    </select>

    <!-- Logements -->
    <div class="logement-images" id="senegal-logements" style="display:none">
      <img src="PHOTO-2025-09-25-08-08-01 (2).jpg" data-logement="maison saint louis" data-prix="15000">
      <img src="PHOTO-2025-09-25-08-08-03 (1).jpg" data-logement="maison dakar-liberté 6" data-prix="15000">
      <img src="PHOTO-2025-09-25-08-08-03 (2).jpg" data-logement="maison dakar-oakam" data-prix="15000">
      <img src="5de337f7-a041-4102-b585-e99cb49ac231.JPEG" data-logement="dakar-medina" data-prix="15000">
      <img src="6.jpg" data-logement="maison-saly" data-prix="15000">
      <img src="expedia_group-343523-145997945-874578.jpg" data-logement="maison keur massar" data-prix="15000">
    </div>
    <div class="logement-images" id="comores-logements" style="display:none">
      <img src="PHOTO-2025-09-25-08-08-17.jpg" data-logement="maison Moroni Zilmadjou" data-prix="12500">
      <img src="PHOTO-2025-09-25-08-08-19 (1).jpg" data-logement="maison Moroni oasis" data-prix="12500">
      <img src="PHOTO-2025-09-25-08-08-19 (2).jpg" data-logement="maison Anjouan" data-prix="12500">
      <img src="PHOTO-2025-09-25-08-08-19.jpg" data-logement="maison moheli" data-prix="12500">
      <img src="PHOTO-2025-09-25-08-08-20 (3).jpg" data-logement="maison Selea" data-prix="12500">
      <img src="PHOTO-2025-09-25-08-08-20.jpg" data-logement="maison ICONI" data-prix="12500">
    </div>

    <label for="date_arrivee">Date d'arrivée</label>
    <input type="date" id="date_arrivee" name="date_arrivee" required>
    <label for="date_depart">Date de départ</label>
    <input type="date" id="date_depart" name="date_depart" required>

    <label>Moyen de paiement</label>
    <div class="payments">
      <label class="payment-label"><input type="radio" name="payment" value="Wave" required><i class="fab fa-wpforms"></i> Wave</label>
      <label class="payment-label"><input type="radio" name="payment" value="Orange Money"><i class="fas fa-mobile-alt"></i> Orange Money</label>
      <label class="payment-label"><input type="radio" name="payment" value="Free Money"><i class="fas fa-mobile-alt"></i> Free Money</label>
      <label class="payment-label"><input type="radio" name="payment" value="MVola"><i class="fas fa-mobile-alt"></i> MVola</label>
      <label class="payment-label"><input type="radio" name="payment" value="Espèces"><i class="fas fa-money-bill-wave"></i> Espèces</label>
      <label class="payment-label"><input type="radio" name="payment" value="Carte bancaire"><i class="fas fa-credit-card"></i> Carte bancaire</label>
    </div>

    <div id="mobile-payment" class="hidden">
      <label for="numero">Numéro du paiement</label>
      <input type="text" id="numero" name="numero">
      <label for="montant">Montant</label>
      <input type="number" id="montant" name="montant" readonly>
    </div>

    <div id="card-payment" class="hidden">
      <label for="cardname">Nom sur la carte</label>
      <input type="text" id="cardname" name="cardname">
      <label for="cardnumber">Numéro de la carte</label>
      <input type="text" id="cardnumber" name="cardnumber">
      <label for="expiry">Date d'expiration</label>
      <input type="month" id="expiry" name="expiry">
      <label for="cvv">CVV</label>
      <input type="text" id="cvv" name="cvv">
    </div>

    <label for="notes">Notes supplémentaires</label>
    <textarea id="notes" name="notes" rows="4"></textarea>

    <button type="button" id="previewBtn">Prévisualiser réservation</button>
  </form>
</section>
</main>

<!-- Pop-up Prévisualisation -->
<div id="previewPopup">
  <div id="popupContent">
    <h3>Prévisualisation de votre réservation</h3>
    <img src="" alt="Logement choisi">
    <p id="popupDesc"></p>
    <p id="popupInfo"></p>
    <button id="confirmBtn">Confirmer</button>
    <button id="cancelBtn">Annuler</button>
  </div>
</div>

<!-- Pop-up Confirmation finale -->
<div id="finalConfirmPopup">
  <div id="finalContent">
    <h3>Confirmez-vous la réservation ?</h3>
    <button id="finalYesBtn">Oui</button>
    <button id="finalNoBtn">Non</button>
  </div>
</div>

<footer>© 2025 Réservation Sénégal & Comores</footer>

<script>
// Galerie
function scrollGallery(id,dir){ document.getElementById(id).scrollBy({left:dir*220, behavior:'smooth'}); }
function autoScrollGallery(id){ setInterval(()=>document.getElementById(id).scrollBy({left:220, behavior:'smooth'}),3000); }
autoScrollGallery('senegalGallery');
autoScrollGallery('comoresGallery');

// Formulaire
document.getElementById('showFormBtn').addEventListener('click',()=>{ 
  document.getElementById('reservationForm').style.display='flex';
  document.getElementById('reservationForm').scrollIntoView({behavior:"smooth"});
});

// Paiement
const paymentLabels=document.querySelectorAll('.payment-label');
const mobileDiv=document.getElementById('mobile-payment');
const cardDiv=document.getElementById('card-payment');
const montantInput=document.getElementById('montant');

paymentLabels.forEach(label=>{
  label.addEventListener('click',()=>{
    paymentLabels.forEach(l=>l.classList.remove('selected'));
    label.classList.add('selected');
    const val=label.querySelector('input').value;
    if(['Wave','Orange Money','Free Money','MVola'].includes(val)){
      mobileDiv.classList.remove('hidden'); cardDiv.classList.add('hidden');
      montantInput.value=calculerTotal();
    }
    else if(val==='Carte bancaire'){
      mobileDiv.classList.add('hidden'); cardDiv.classList.remove('hidden');
    }
    else{
      mobileDiv.classList.add('hidden'); cardDiv.classList.add('hidden');
    }
  });
});

// Logements
const destinationSelect=document.getElementById('destination');
const senegalLogements=document.getElementById('senegal-logements');
const comoresLogements=document.getElementById('comores-logements');
let logementChoisi=""; 
let prixLogement=0;

destinationSelect.addEventListener('change',()=>{
  senegalLogements.style.display=destinationSelect.value==="Sénégal"?"flex":"none";
  comoresLogements.style.display=destinationSelect.value==="Comores"?"flex":"none";
  miseAJourMontant();
});

document.querySelectorAll('.logement-images img').forEach(img=>{
  img.addEventListener('click',()=>{
    document.querySelectorAll('.logement-images img').forEach(i=>i.classList.remove('selected'));
    img.classList.add('selected');
    logementChoisi=img.dataset.logement;
    prixLogement=parseInt(img.dataset.prix);
    miseAJourMontant();
  });
});

// Calcul du total
function calculerTotal(){
  const dateArr=document.getElementById('date_arrivee').value;
  const dateDep=document.getElementById('date_depart').value;
  if(!dateArr || !dateDep || prixLogement===0) return 0;
  const d1=new Date(dateArr);
  const d2=new Date(dateDep);
  let jours=(d2-d1)/(1000*60*60*24);
  if(jours<1) jours=1;
  return prixLogement*jours;
}

function miseAJourMontant(){
  const montant=calculerTotal();
  montantInput.value=montant>0?montant:'';
}

document.getElementById('date_arrivee').addEventListener('change',miseAJourMontant);
document.getElementById('date_depart').addEventListener('change',miseAJourMontant);

// Prévisualisation
const previewPopup=document.getElementById('previewPopup');
const popupImg=previewPopup.querySelector('img');
const popupDesc=document.getElementById('popupDesc');
const popupInfo=document.getElementById('popupInfo');

document.getElementById('previewBtn').addEventListener('click',()=>{
  const nom=document.getElementById('nom').value;
  const email=document.getElementById('email').value;
  const destination=document.getElementById('destination').value;
  const type=document.getElementById('type').value;
  const payment=document.querySelector('input[name="payment"]:checked')?.value;

  if(!nom || !email || !destination || !type || !payment){
    alert("Veuillez remplir tous les champs obligatoires.");
    return;
  }

  const total=calculerTotal();
  const monnaie=destination==="Sénégal"?"XOF":"KMF";

  popupImg.src=logementChoisi?document.querySelector('.logement-images img.selected').src:"https://via.placeholder.com/400x250.png?text=Réservation";
  popupDesc.textContent=logementChoisi?`Logement choisi: ${logementChoisi} | Prix unitaire: ${prixLogement} ${monnaie}/j | Total: ${total} ${monnaie}`:"Aucun logement choisi";
  popupInfo.textContent=`Nom: ${nom} | Email: ${email} | Destination: ${destination} | Type: ${type} | Paiement: ${payment} | Durée: ${(total/prixLogement)} jour(s)`;
  previewPopup.style.display='flex';
});

document.getElementById('cancelBtn').addEventListener('click',()=>{ previewPopup.style.display='none'; });

// Confirmation finale
const finalPopup=document.getElementById('finalConfirmPopup');
document.getElementById('confirmBtn').addEventListener('click',()=>{
  previewPopup.style.display='none';
  finalPopup.style.display='flex';
});

document.getElementById('finalYesBtn').addEventListener('click',()=>{
  alert("Réservation confirmée ✅");
  finalPopup.style.display='none';
  document.getElementById('reservationForm').reset();
  logementChoisi=""; prixLogement=0;
  montantInput.value='';
});

document.getElementById('finalNoBtn').addEventListener('click',()=>{
  finalPopup.style.display='none';
  previewPopup.style.display='flex';
});
</script>

</body>
</html>
